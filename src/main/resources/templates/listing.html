<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listing</title>
</head>

<body>

    <h1> List of ToDo tasks </h1>

    <div>
        <form method="get" action="/listing">
            <table border="1">
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Due date</th>
                    <th>Priority</th>
                    <th>Status</th>
                    <th>Created at</th>
                    <th>Updated at</th>
                </tr>
                <tr data-th-each="task : ${filtered}" data-th-object="${task}">
                    <td><span data-th-text=*{id}></span></td>
                    <td><span data-th-text=*{name}></span></td>
                    <td><span data-th-text=*{description}></span></td>
                    <td><span data-th-text=*{dueDate}></span></td>
                    <td><span data-th-text=*{priority}></span></td>
                    <td><span data-th-text=*{status}></span></td>
                    <td><span data-th-text=*{createdAt}></span></td>
                    <td><span data-th-text=*{updatedAt}></span></td>
                </tr>
            </table>

            <br>

            <label for="status">Filter by status: </label>
            <select name="status" id="status">
                <option value="" data-th-selected="${#strings.isEmpty(status)}">All</option>
                <option value="completed" data-th-selected="${status == 'completed'}">Completed</option>
                <option value="pending" data-th-selected="${status == 'pending'}">Pending</option>
                <option value="in_progress" data-th-selected="${status == 'in_progress'}">In Progress</option>
                <option value="started" data-th-selected="${status == 'started'}">Started</option>
            </select>
            <button type="submit">Show</button>
        </form>
    </div>

</body>

</html>